---
import { getAllListings } from 'sanity/api';
const listings = await getAllListings();

const activeListings = listings.filter((listing: any) => {
  if (!listing.hideListing) return listing;
});

import Layout from 'layouts/Layout.astro';
import Header from 'components/Common/Header.astro';
import Listings from 'components/Listings/Listings.astro';
import FinalCta from 'components/Common/FinalCta.astro';
---

<Layout
  title="Available Listings | Fully Furnished Apartments in Osaka"
  description="Explore exclusive, fully furnished apartment rentals in Osaka at Apollo Properties, perfect for foreigners, with listings starting at just Â¥33,000 per month."
>
  <Header heading={'Available Listings'} />
  <Listings listings={activeListings} />
  <FinalCta />
</Layout>
